{
  "query": "\nCREATE TABLE `branch_ledger_entries` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`branchId` int NOT NULL,\n\t`saleId` int,\n\t`type` enum('stock_received','sale_profit','payment_sent','payment_received') NOT NULL,\n\t`amount` decimal(12,2) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `branch_ledger_entries_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `company_settings` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`companyName` varchar(256) NOT NULL DEFAULT 'AutoTools ERP',\n\t`tagline` varchar(256),\n\t`address` text,\n\t`phone` varchar(64),\n\t`email` varchar(320),\n\t`website` varchar(256),\n\t`currency` varchar(8) NOT NULL DEFAULT 'USD',\n\t`currencySymbol` varchar(8) NOT NULL DEFAULT '$',\n\t`logoUrl` text,\n\t`primaryColor` varchar(32) DEFAULT '#f97316',\n\t`taxRate` decimal(5,2) DEFAULT '0.00',\n\t`receiptFooter` text,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `company_settings_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `customers` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`phone` varchar(32),\n\t`email` varchar(320),\n\t`address` text,\n\t`notes` text,\n\t`totalPurchases` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `customers_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `goods_received_notes` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnNo` varchar(32) NOT NULL,\n\t`poId` int NOT NULL,\n\t`supplierId` int NOT NULL,\n\t`warehouseBranchId` int NOT NULL,\n\t`receivedByUserId` int NOT NULL,\n\t`status` enum('Pending','Received','Reversed') NOT NULL DEFAULT 'Pending',\n\t`totalReceivedAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`receivedAt` timestamp,\n\t`reversedAt` timestamp,\n\tCONSTRAINT `goods_received_notes_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `goods_received_notes_grnNo_unique` UNIQUE(`grnNo`)\n);\n\nCREATE TABLE `grn_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnId` int NOT NULL,\n\t`poItemId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantityReceived` int NOT NULL,\n\t`unitPrice` decimal(12,2) NOT NULL,\n\t`totalPrice` decimal(12,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `grn_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `invoice_aging` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`invoiceNo` varchar(32) NOT NULL,\n\t`supplierId` int,\n\t`customerId` int,\n\t`branchId` int NOT NULL,\n\t`totalAmount` decimal(12,2) NOT NULL,\n\t`outstandingAmount` decimal(12,2) NOT NULL,\n\t`daysOverdue` int NOT NULL DEFAULT 0,\n\t`agingBucket` enum('Current','30Days','60Days','90Days','Over90Days') NOT NULL DEFAULT 'Current',\n\t`dueDate` timestamp,\n\t`lastPaymentDate` timestamp,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `invoice_aging_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `invoice_aging_invoiceId_unique` UNIQUE(`invoiceId`)\n);\n\nCREATE TABLE `invoice_payments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`paymentAmount` decimal(12,2) NOT NULL,\n\t`paymentMethod` varchar(32) NOT NULL,\n\t`reference` varchar(128),\n\t`notes` text,\n\t`createdByUserId` int NOT NULL,\n\t`paymentDate` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `invoice_payments_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `invoices` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceNo` varchar(32) NOT NULL,\n\t`invoiceType` enum('Sales','Purchase','CreditNote','DebitNote') NOT NULL,\n\t`referenceId` int NOT NULL,\n\t`supplierId` int,\n\t`customerId` int,\n\t`branchId` int NOT NULL,\n\t`totalAmount` decimal(12,2) NOT NULL,\n\t`paidAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`outstandingAmount` decimal(12,2) NOT NULL,\n\t`creditAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`status` enum('Draft','Issued','PartiallyPaid','Paid','Overdue','Cancelled') NOT NULL DEFAULT 'Draft',\n\t`dueDate` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`issuedAt` timestamp,\n\t`paidAt` timestamp,\n\tCONSTRAINT `invoices_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `invoices_invoiceNo_unique` UNIQUE(`invoiceNo`)\n);\n\nCREATE TABLE `landing_costs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnId` int NOT NULL,\n\t`costType` varchar(64) NOT NULL,\n\t`amount` decimal(12,2) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `landing_costs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `payment_allocations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`paymentId` int NOT NULL,\n\t`allocatedAmount` decimal(12,2) NOT NULL,\n\t`allocationDate` timestamp NOT NULL DEFAULT (now()),\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `payment_allocations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `purchase_finalizations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnId` int NOT NULL,\n\t`poId` int NOT NULL,\n\t`supplierId` int NOT NULL,\n\t`warehouseBranchId` int NOT NULL,\n\t`finalizedByUserId` int NOT NULL,\n\t`baseAmount` decimal(12,2) NOT NULL,\n\t`totalLandingCosts` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`finalAmount` decimal(12,2) NOT NULL,\n\t`payableEntryId` int,\n\t`status` enum('Pending','Finalized','Cancelled') NOT NULL DEFAULT 'Pending',\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`finalizedAt` timestamp,\n\tCONSTRAINT `purchase_finalizations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `purchase_order_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`poId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantity` int NOT NULL,\n\t`unitPrice` decimal(12,2) NOT NULL,\n\t`totalPrice` decimal(12,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `purchase_order_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `purchase_orders` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`poNo` varchar(32) NOT NULL,\n\t`supplierId` int NOT NULL,\n\t`warehouseBranchId` int NOT NULL,\n\t`createdByUserId` int NOT NULL,\n\t`status` enum('Draft','Submitted','Approved','Cancelled') NOT NULL DEFAULT 'Draft',\n\t`totalAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`submittedAt` timestamp,\n\t`approvedAt` timestamp,\n\t`cancelledAt` timestamp,\n\tCONSTRAINT `purchase_orders_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `purchase_orders_poNo_unique` UNIQUE(`poNo`)\n);\n\nCREATE TABLE `stock_reservations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`inventoryItemId` int NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`invoiceType` enum('Sale','Transfer','PurchaseOrder') NOT NULL,\n\t`branchId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantity` int NOT NULL DEFAULT 1,\n\t`status` enum('Active','Released','Consumed') NOT NULL DEFAULT 'Active',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`releasedAt` timestamp,\n\tCONSTRAINT `stock_reservations_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `ledger_entries` MODIFY COLUMN `entryType` enum('Sale','Expense','Payment','Adjustment','Transfer','PurchasePayable') NOT NULL;\n\nALTER TABLE `users` MODIFY COLUMN `role` enum('user','admin','manager','cashier') NOT NULL DEFAULT 'user';\n\nCREATE INDEX `idx_grn_po` ON `goods_received_notes` (`poId`);\nCREATE INDEX `idx_grn_supplier` ON `goods_received_notes` (`supplierId`);\nCREATE INDEX `idx_grn_warehouse` ON `goods_received_notes` (`warehouseBranchId`);\nCREATE INDEX `idx_grn_status` ON `goods_received_notes` (`status`);\nCREATE INDEX `idx_grni_grn` ON `grn_items` (`grnId`);\nCREATE INDEX `idx_grni_product` ON `grn_items` (`productId`);\nCREATE INDEX `idx_ia_supplier` ON `invoice_aging` (`supplierId`);\nCREATE INDEX `idx_ia_customer` ON `invoice_aging` (`customerId`);\nCREATE INDEX `idx_ia_aging` ON `invoice_aging` (`agingBucket`);\nCREATE INDEX `idx_ip_invoice` ON `invoice_payments` (`invoiceId`);\nCREATE INDEX `idx_ip_date` ON `invoice_payments` (`paymentDate`);\nCREATE INDEX `idx_inv_type` ON `invoices` (`invoiceType`);\nCREATE INDEX `idx_inv_supplier` ON `invoices` (`supplierId`);\nCREATE INDEX `idx_inv_customer` ON `invoices` (`customerId`);\nCREATE INDEX `idx_inv_branch` ON `invoices` (`branchId`);\nCREATE INDEX `idx_inv_status` ON `invoices` (`status`);\nCREATE INDEX `idx_lc_grn` ON `landing_costs` (`grnId`);\nCREATE INDEX `idx_pa_invoice` ON `payment_allocations` (`invoiceId`);\nCREATE INDEX `idx_pa_payment` ON `payment_allocations` (`paymentId`);\nCREATE INDEX `idx_pf_grn` ON `purchase_finalizations` (`grnId`);\nCREATE INDEX `idx_pf_po` ON `purchase_finalizations` (`poId`);\nCREATE INDEX `idx_pf_supplier` ON `purchase_finalizations` (`supplierId`);\nCREATE INDEX `idx_poi_po` ON `purchase_order_items` (`poId`);\nCREATE INDEX `idx_poi_product` ON `purchase_order_items` (`productId`);\nCREATE INDEX `idx_po_supplier` ON `purchase_orders` (`supplierId`);\nCREATE INDEX `idx_po_warehouse` ON `purchase_orders` (`warehouseBranchId`);\nCREATE INDEX `idx_po_status` ON `purchase_orders` (`status`);\nCREATE INDEX `idx_res_inventory` ON `stock_reservations` (`inventoryItemId`);\nCREATE INDEX `idx_res_invoice` ON `stock_reservations` (`invoiceId`);\nCREATE INDEX `idx_res_branch` ON `stock_reservations` (`branchId`);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway04.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 48yCYyFHTgav2j9.8fd33d3537ae --database 7ZcBDNvzQVdPenBD24E82P --execute \nCREATE TABLE `branch_ledger_entries` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`branchId` int NOT NULL,\n\t`saleId` int,\n\t`type` enum('stock_received','sale_profit','payment_sent','payment_received') NOT NULL,\n\t`amount` decimal(12,2) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `branch_ledger_entries_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `company_settings` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`companyName` varchar(256) NOT NULL DEFAULT 'AutoTools ERP',\n\t`tagline` varchar(256),\n\t`address` text,\n\t`phone` varchar(64),\n\t`email` varchar(320),\n\t`website` varchar(256),\n\t`currency` varchar(8) NOT NULL DEFAULT 'USD',\n\t`currencySymbol` varchar(8) NOT NULL DEFAULT '$',\n\t`logoUrl` text,\n\t`primaryColor` varchar(32) DEFAULT '#f97316',\n\t`taxRate` decimal(5,2) DEFAULT '0.00',\n\t`receiptFooter` text,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `company_settings_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `customers` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`phone` varchar(32),\n\t`email` varchar(320),\n\t`address` text,\n\t`notes` text,\n\t`totalPurchases` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `customers_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `goods_received_notes` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnNo` varchar(32) NOT NULL,\n\t`poId` int NOT NULL,\n\t`supplierId` int NOT NULL,\n\t`warehouseBranchId` int NOT NULL,\n\t`receivedByUserId` int NOT NULL,\n\t`status` enum('Pending','Received','Reversed') NOT NULL DEFAULT 'Pending',\n\t`totalReceivedAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`receivedAt` timestamp,\n\t`reversedAt` timestamp,\n\tCONSTRAINT `goods_received_notes_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `goods_received_notes_grnNo_unique` UNIQUE(`grnNo`)\n);\n\nCREATE TABLE `grn_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnId` int NOT NULL,\n\t`poItemId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantityReceived` int NOT NULL,\n\t`unitPrice` decimal(12,2) NOT NULL,\n\t`totalPrice` decimal(12,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `grn_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `invoice_aging` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`invoiceNo` varchar(32) NOT NULL,\n\t`supplierId` int,\n\t`customerId` int,\n\t`branchId` int NOT NULL,\n\t`totalAmount` decimal(12,2) NOT NULL,\n\t`outstandingAmount` decimal(12,2) NOT NULL,\n\t`daysOverdue` int NOT NULL DEFAULT 0,\n\t`agingBucket` enum('Current','30Days','60Days','90Days','Over90Days') NOT NULL DEFAULT 'Current',\n\t`dueDate` timestamp,\n\t`lastPaymentDate` timestamp,\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `invoice_aging_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `invoice_aging_invoiceId_unique` UNIQUE(`invoiceId`)\n);\n\nCREATE TABLE `invoice_payments` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`paymentAmount` decimal(12,2) NOT NULL,\n\t`paymentMethod` varchar(32) NOT NULL,\n\t`reference` varchar(128),\n\t`notes` text,\n\t`createdByUserId` int NOT NULL,\n\t`paymentDate` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `invoice_payments_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `invoices` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceNo` varchar(32) NOT NULL,\n\t`invoiceType` enum('Sales','Purchase','CreditNote','DebitNote') NOT NULL,\n\t`referenceId` int NOT NULL,\n\t`supplierId` int,\n\t`customerId` int,\n\t`branchId` int NOT NULL,\n\t`totalAmount` decimal(12,2) NOT NULL,\n\t`paidAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`outstandingAmount` decimal(12,2) NOT NULL,\n\t`creditAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`status` enum('Draft','Issued','PartiallyPaid','Paid','Overdue','Cancelled') NOT NULL DEFAULT 'Draft',\n\t`dueDate` timestamp,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`issuedAt` timestamp,\n\t`paidAt` timestamp,\n\tCONSTRAINT `invoices_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `invoices_invoiceNo_unique` UNIQUE(`invoiceNo`)\n);\n\nCREATE TABLE `landing_costs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnId` int NOT NULL,\n\t`costType` varchar(64) NOT NULL,\n\t`amount` decimal(12,2) NOT NULL,\n\t`description` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `landing_costs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `payment_allocations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`paymentId` int NOT NULL,\n\t`allocatedAmount` decimal(12,2) NOT NULL,\n\t`allocationDate` timestamp NOT NULL DEFAULT (now()),\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `payment_allocations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `purchase_finalizations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`grnId` int NOT NULL,\n\t`poId` int NOT NULL,\n\t`supplierId` int NOT NULL,\n\t`warehouseBranchId` int NOT NULL,\n\t`finalizedByUserId` int NOT NULL,\n\t`baseAmount` decimal(12,2) NOT NULL,\n\t`totalLandingCosts` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`finalAmount` decimal(12,2) NOT NULL,\n\t`payableEntryId` int,\n\t`status` enum('Pending','Finalized','Cancelled') NOT NULL DEFAULT 'Pending',\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`finalizedAt` timestamp,\n\tCONSTRAINT `purchase_finalizations_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `purchase_order_items` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`poId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantity` int NOT NULL,\n\t`unitPrice` decimal(12,2) NOT NULL,\n\t`totalPrice` decimal(12,2) NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `purchase_order_items_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `purchase_orders` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`poNo` varchar(32) NOT NULL,\n\t`supplierId` int NOT NULL,\n\t`warehouseBranchId` int NOT NULL,\n\t`createdByUserId` int NOT NULL,\n\t`status` enum('Draft','Submitted','Approved','Cancelled') NOT NULL DEFAULT 'Draft',\n\t`totalAmount` decimal(12,2) NOT NULL DEFAULT '0.00',\n\t`notes` text,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`submittedAt` timestamp,\n\t`approvedAt` timestamp,\n\t`cancelledAt` timestamp,\n\tCONSTRAINT `purchase_orders_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `purchase_orders_poNo_unique` UNIQUE(`poNo`)\n);\n\nCREATE TABLE `stock_reservations` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`inventoryItemId` int NOT NULL,\n\t`invoiceId` int NOT NULL,\n\t`invoiceType` enum('Sale','Transfer','PurchaseOrder') NOT NULL,\n\t`branchId` int NOT NULL,\n\t`productId` int NOT NULL,\n\t`quantity` int NOT NULL DEFAULT 1,\n\t`status` enum('Active','Released','Consumed') NOT NULL DEFAULT 'Active',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`releasedAt` timestamp,\n\tCONSTRAINT `stock_reservations_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `ledger_entries` MODIFY COLUMN `entryType` enum('Sale','Expense','Payment','Adjustment','Transfer','PurchasePayable') NOT NULL;\n\nALTER TABLE `users` MODIFY COLUMN `role` enum('user','admin','manager','cashier') NOT NULL DEFAULT 'user';\n\nCREATE INDEX `idx_grn_po` ON `goods_received_notes` (`poId`);\nCREATE INDEX `idx_grn_supplier` ON `goods_received_notes` (`supplierId`);\nCREATE INDEX `idx_grn_warehouse` ON `goods_received_notes` (`warehouseBranchId`);\nCREATE INDEX `idx_grn_status` ON `goods_received_notes` (`status`);\nCREATE INDEX `idx_grni_grn` ON `grn_items` (`grnId`);\nCREATE INDEX `idx_grni_product` ON `grn_items` (`productId`);\nCREATE INDEX `idx_ia_supplier` ON `invoice_aging` (`supplierId`);\nCREATE INDEX `idx_ia_customer` ON `invoice_aging` (`customerId`);\nCREATE INDEX `idx_ia_aging` ON `invoice_aging` (`agingBucket`);\nCREATE INDEX `idx_ip_invoice` ON `invoice_payments` (`invoiceId`);\nCREATE INDEX `idx_ip_date` ON `invoice_payments` (`paymentDate`);\nCREATE INDEX `idx_inv_type` ON `invoices` (`invoiceType`);\nCREATE INDEX `idx_inv_supplier` ON `invoices` (`supplierId`);\nCREATE INDEX `idx_inv_customer` ON `invoices` (`customerId`);\nCREATE INDEX `idx_inv_branch` ON `invoices` (`branchId`);\nCREATE INDEX `idx_inv_status` ON `invoices` (`status`);\nCREATE INDEX `idx_lc_grn` ON `landing_costs` (`grnId`);\nCREATE INDEX `idx_pa_invoice` ON `payment_allocations` (`invoiceId`);\nCREATE INDEX `idx_pa_payment` ON `payment_allocations` (`paymentId`);\nCREATE INDEX `idx_pf_grn` ON `purchase_finalizations` (`grnId`);\nCREATE INDEX `idx_pf_po` ON `purchase_finalizations` (`poId`);\nCREATE INDEX `idx_pf_supplier` ON `purchase_finalizations` (`supplierId`);\nCREATE INDEX `idx_poi_po` ON `purchase_order_items` (`poId`);\nCREATE INDEX `idx_poi_product` ON `purchase_order_items` (`productId`);\nCREATE INDEX `idx_po_supplier` ON `purchase_orders` (`supplierId`);\nCREATE INDEX `idx_po_warehouse` ON `purchase_orders` (`warehouseBranchId`);\nCREATE INDEX `idx_po_status` ON `purchase_orders` (`status`);\nCREATE INDEX `idx_res_inventory` ON `stock_reservations` (`inventoryItemId`);\nCREATE INDEX `idx_res_invoice` ON `stock_reservations` (`invoiceId`);\nCREATE INDEX `idx_res_branch` ON `stock_reservations` (`branchId`);\n",
  "returncode": 1,
  "logs": [
    "ERROR 1146 (42S02) at line 207: Table '7zcbdnvzqvdpenbd24e82p.ledger_entries' doesn't exist"
  ]
}